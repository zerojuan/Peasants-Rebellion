define("ChessPiece",["easel"],function(){var e;return e=function(e){this.type=e.type,this.row=e.row,this.col=e.col,this.color=e.color,this.spriteSheet=e.spriteSheet,this.alive=!0,this.animation=new createjs.BitmapAnimation(this.spriteSheet),this.animation.gotoAndPlay(this.type+"_up"),this.graphics=new createjs.Container,this.graphics.addChild(this.animation),this.graphics.x=this.col*64,this.graphics.y=this.row*64},e.prototype={initialize:function(){},getPossibleMoves:function(){},promote:function(){this.animation.gotoAndPlay(this.type+"_up_promote"),console.log(this.type+"_up_promote"),this.type="Q"},activate:function(){this.animation.gotoAndPlay(this.type+"_up"+"_selected")},deactivate:function(){this.animation.gotoAndPlay(this.type+"_up"+"_awake")},sleep:function(){this.animation.gotoAndPlay(this.type+"_up"+"_idle")},updateTurn:function(e){if(this.animation.currentAnimation=="P_up_promote")return;e?this.animation.gotoAndPlay(this.type+"_up"+"_awake"):this.animation.gotoAndPlay(this.type+"_up"+"_idle")},updateWinner:function(e){e=="D"?this.animation.gotoAndPlay(this.type+"_up_idle"):e==this.color?this.animation.gotoAndPlay(this.type+"_up_selected"):this.animation.gotoAndPlay(this.type+"_up_idle")},move:function(e,t,n){var r=this;this.row=e,this.col=t,createjs.Tween.get(this.graphics).to({x:this.col*64,y:this.row*64},800,createjs.Ease.cubicOut).call(function(){r.type=="P"&&(console.log("CHANGING PROMOTION:  "+this.type),console.log("Row: "+e),console.log("Color: "+this.color),(r.color=="W"&&e==0||r.color=="B"&&e==7)&&r.promote()),r.graphics.x=r.col*64,r.graphics.y=r.row*64,n()})},remove:function(e,t){this.row=-1,this.col=-1,this.alive=!1,this.graphics.alpha=0}},e});